import{_ as e,c as t,b as s,d as l,a,w as n,r as i,t as d,i as r,v as c,j as o,u,F as g,l as p,q as h,s as f,f as m,e as v}from"./index-DNfTXETz.js";const y={class:"staff-page"},k={class:"container header-container"},b={class:"container"},x={class:"row align-items-center"},P={class:"welcome-banner col-8 mx-2"},R={class:"welcome-banner col-3 mx-2 text-center"},w={class:"text-2xl font-bold mt-1"},D={class:"flex flex-col items-center gap-4 mb-8"},C={class:"flex items-center gap-2"},S={class:"mb-4 flex items-center gap-4"},M={class:"overflow-x-auto"},T={class:"min-w-full table-auto border rounded shadow bg-pink-800"},E={class:"px-4 py-1"},N={class:"px-4 py-1"},j={class:"px-4 py-1"},A={class:"px-4 py-1"},I={class:"px-4 py-1"},_={key:0},q={class:"px-4 py-1"},L={key:0},U={class:"list-content"},V={class:"py-1"},F=["onClick"],G={class:"d-flex justify-content-center mt-4"},z={class:"pagination"},B=["disabled"],H=["onClick"],J=["disabled"],K={class:"resident-card bg-white p-6 rounded shadow"},O={key:0},Q={key:1},W={class:"styled-list"},X={class:"list-content"};const Y=e({name:"ResidentInfo",data:()=>({search:"",showDetails:!1,selectedResident:null,currentPage:1,residentsPerPage:5,totalResidents:0,nurseShift:"Morning",residents:[]}),computed:{filteredResidents(){const e=this.search.toLowerCase();return this.residents.filter((t=>t.name.toLowerCase().includes(e)||t.id.includes(e)))},todayDate:()=>(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),paginatedResidents(){const e=(this.currentPage-1)*this.residentsPerPage,t=e+this.residentsPerPage;return this.filteredResidents.slice(e,t)},totalPages(){return Math.ceil(this.filteredResidents.length/this.residentsPerPage)}},methods:{async fetchResidents(){try{const e=await fetch("/api/patients");if(!e.ok)throw new Error("Failed to fetch data");const t=await e.json();this.residents=t,this.totalResidents=t.length}catch(e){console.error("Error fetching residents:",e)}},refreshData(){this.fetchResidents()},viewDetails(e){this.selectedResident=e,this.showDetails=!0},closeDetails(){this.selectedResident=null,this.showDetails=!1},getShiftTasks(e){return e&&"object"==typeof e&&e[this.nurseShift]||[]}},watch:{search(){this.currentPage=1}},mounted(){this.fetchResidents()}},[["render",function(e,Y,Z,$,ee,te){var se,le,ae;const ne=i("router-link");return v(),t("div",y,[s("header",null,[s("div",k,[l(ne,{to:"/staff",class:"logo"},{default:n((()=>Y[8]||(Y[8]=[s("span",null,"Swin Care",-1)]))),_:1}),Y[9]||(Y[9]=a('<div class="user-info" data-v-52d455ad><button class="notifications-btn" data-v-52d455ad> ðŸ“‹<span class="alert-count" data-v-52d455ad>3</span></button><div class="user-name" data-v-52d455ad>Serena Tr</div><div class="user-avatar" data-v-52d455ad>ST</div></div>',1))])]),s("main",b,[s("div",x,[s("div",P,[Y[10]||(Y[10]=s("h1",null,"Resident Information",-1)),s("p",null,"Today is "+d(te.todayDate)+".",1)]),s("div",R,[Y[11]||(Y[11]=s("p",null,[s("b",null,"Total Residents")],-1)),s("p",w," Count: "+d(te.filteredResidents.length),1)])]),s("div",D,[s("div",C,[r(s("input",{type:"text","onUpdate:modelValue":Y[0]||(Y[0]=e=>ee.search=e),placeholder:"Search residents...",class:"search-input"},null,512),[[c,ee.search]]),s("button",{onClick:Y[1]||(Y[1]=(...e)=>te.refreshData&&te.refreshData(...e)),class:"refresh-btn"},"Refresh ðŸ”„")])]),s("div",S,[Y[13]||(Y[13]=s("label",{for:"shift",class:"font-medium"},"Select Shift:",-1)),r(s("select",{"onUpdate:modelValue":Y[2]||(Y[2]=e=>ee.nurseShift=e),id:"shift",class:"border p-2 rounded"},Y[12]||(Y[12]=[s("option",{value:"Morning"},"Morning",-1),s("option",{value:"Evening"},"Evening",-1),s("option",{value:"Night"},"Night",-1)]),512),[[o,ee.nurseShift]])]),s("div",M,[s("table",T,[Y[15]||(Y[15]=s("thead",{class:"bg-pink-500"},[s("tr",null,[s("th",{class:"px-4 py-2 text-left"},"ID"),s("th",{class:"px-4 py-2 text-left"},"Name"),s("th",{class:"px-4 py-2 text-left"},"Age"),s("th",{class:"px-4 py-2 text-left"},"Room Allocated"),s("th",{class:"px-4 py-2 text-left"},"Care Plan"),s("th",{class:"px-4 py-2 text-left"},"Medications"),s("th",{class:"px-4 py-2 text-left"},"View Details")])],-1)),s("tbody",null,[(v(!0),t(g,null,p(te.paginatedResidents,(e=>(v(),t("tr",{key:e.id,class:"border-t"},[s("td",E,[s("b",null,d(e.id),1)]),s("td",N,d(e.name),1),s("td",j,d(e.age),1),s("td",A,d(e.roomId),1),s("td",I,["string"==typeof e.carePlan?(v(),t("div",_,d(e.carePlan),1)):u("",!0),s("div",null,[s("ul",null,[(v(!0),t(g,null,p(te.getShiftTasks(e.carePlan),((e,s)=>(v(),t("li",{key:ee.nurseShift+"-"+s},d(e.time?e.time+" - ":"")+d(e.task),1)))),128))])])]),s("td",q,[Array.isArray(e.medications)?(v(),t("div",L,[s("ul",null,[(v(!0),t(g,null,p(e.medications,((e,l)=>(v(),t("li",{key:"medication-"+l},[s("span",U,[s("strong",null,d(e.name),1),m(" - "+d(e.dosage)+" ("+d(e.frequency)+" at "+d(e.time)+") ",1)])])))),128))])])):u("",!0)]),s("td",V,[s("button",{onClick:t=>te.viewDetails(e),class:"details-btn"},Y[14]||(Y[14]=[s("i",{class:"fa-solid fa-book-open-reader",style:{color:"#ffffff"}},null,-1),m(" Details ")]),8,F)])])))),128))])]),s("nav",G,[s("ul",z,[s("li",{class:h(["page-item",{disabled:1===ee.currentPage}])},[s("button",{class:"page-link",onClick:Y[3]||(Y[3]=e=>ee.currentPage--),disabled:1===ee.currentPage}," Previous ",8,B)],2),(v(!0),t(g,null,p(te.totalPages,(e=>(v(),t("li",{class:h(["page-item",{active:e===ee.currentPage}]),key:e},[s("button",{class:"page-link",onClick:t=>ee.currentPage=e},d(e),9,H)],2)))),128)),s("li",{class:h(["page-item",{disabled:ee.currentPage===te.totalPages}])},[s("button",{class:"page-link",onClick:Y[4]||(Y[4]=e=>ee.currentPage++),disabled:ee.currentPage===te.totalPages}," Next ",8,J)],2)])]),ee.showDetails?(v(),t("div",{key:0,class:"overlay",onClick:Y[7]||(Y[7]=(...e)=>te.closeDetails&&te.closeDetails(...e))},[s("div",{class:"resident-card-container",onClick:Y[6]||(Y[6]=f((()=>{}),["stop"]))},[s("div",K,[Y[27]||(Y[27]=s("h2",{class:"text-xl font-bold mb-2"},"Resident Details",-1)),s("p",null,[Y[16]||(Y[16]=s("strong",null,"Name:",-1)),m(" "+d(ee.selectedResident.name),1)]),s("p",null,[Y[17]||(Y[17]=s("strong",null,"Gender:",-1)),m(" "+d(ee.selectedResident.gender),1)]),s("p",null,[Y[18]||(Y[18]=s("strong",null,"Age:",-1)),m(" "+d(ee.selectedResident.age),1)]),s("p",null,[Y[19]||(Y[19]=s("strong",null,"Room:",-1)),m(" "+d(ee.selectedResident.roomId),1)]),"string"==typeof ee.selectedResident.carePlan?(v(),t("div",O,[s("p",null,[Y[20]||(Y[20]=s("strong",null,"Care Plan:",-1)),m(" "+d(ee.selectedResident.carePlan),1)])])):(v(),t("div",Q,[Y[21]||(Y[21]=s("p",null,[s("strong",null,"Morning Tasks:")],-1)),s("ul",null,[(v(!0),t(g,null,p((null==(se=ee.selectedResident.carePlan)?void 0:se.Morning)||[],((e,s)=>(v(),t("li",{key:"Morning-"+s},d(e.time?e.time+" - ":"")+d(e.task),1)))),128))]),Y[22]||(Y[22]=s("p",null,[s("strong",null,"Evening Tasks:")],-1)),s("ul",null,[(v(!0),t(g,null,p((null==(le=ee.selectedResident.carePlan)?void 0:le.Evening)||[],((e,s)=>(v(),t("li",{key:"Evening-"+s},d(e.time?e.time+" - ":"")+d(e.task),1)))),128))]),Y[23]||(Y[23]=s("p",null,[s("strong",null,"Night Tasks:")],-1)),s("ul",null,[(v(!0),t(g,null,p((null==(ae=ee.selectedResident.carePlan)?void 0:ae.Night)||[],((e,s)=>(v(),t("li",{key:"Night-"+s},d(e.time?e.time+" - ":"")+d(e.task),1)))),128))])])),s("p",null,[Y[24]||(Y[24]=s("strong",null,"Emergency Contact:",-1)),m(" "+d(ee.selectedResident.emergencyContact),1)]),s("p",null,[Y[25]||(Y[25]=s("strong",null,"Allergies:",-1)),m(" "+d(ee.selectedResident.allergies.join(",")),1)]),Y[28]||(Y[28]=s("p",null,[s("strong",null,"Medications:")],-1)),s("ul",W,[(v(!0),t(g,null,p(ee.selectedResident.medications,((e,l)=>(v(),t("li",{key:"medication-"+l},[Y[26]||(Y[26]=s("span",{class:"list-icon"},"ðŸ’Š",-1)),s("span",X,[s("strong",null,d(e.name),1),m(" - "+d(e.dosage)+" ("+d(e.frequency)+" at "+d(e.time)+") ",1)])])))),128))]),s("button",{onClick:Y[5]||(Y[5]=(...e)=>te.closeDetails&&te.closeDetails(...e)),class:"refresh-btn mt-4"}," Close ")])])])):u("",!0)])])])}],["__scopeId","data-v-52d455ad"]]);export{Y as default};
