import{r as e}from"./residentsData-DgSIKdPy.js";import{_ as s,c as i,b as t,a as n,d as l,w as d,r as a,u as c,F as o,l as r,i as u,j as f,t as m,e as v,q as R}from"./index-DNfTXETz.js";const h={class:"container header-container"},p={class:"logo"},g={class:"medications-section"},k={key:0,class:"refill-overview"},I={class:"refill-list"},N={class:"select-container"},S=["value"],y={key:1},w={class:"medications-list"},b={class:"medication-info"},_={key:2};const j=s({data:()=>({residents:e,selectedResidentId:null}),created(){this.residents.forEach((e=>{e.medications&&e.medications.forEach((s=>{s.needsRefill=s.stockLevel<=5,s.residentId=e.id}))}))},methods:{getSelectedResident(){return this.residents.find((e=>e.id===this.selectedResidentId))},getResidentName(e){const s=this.residents.find((s=>s.id===e));return s?s.name:"Unknown Resident"}},computed:{selectedResident(){return this.residents.find((e=>e.id===this.selectedResidentId))},medicationsNeedingRefill(){const e=[];return this.residents.forEach((s=>{s.medications&&e.push(...s.medications)})),e.filter((e=>e.needsRefill))}}},[["render",function(e,s,j,D,E,M){const U=a("router-link");return v(),i(o,null,[t("div",null,[t("header",null,[t("div",h,[t("div",p,[l(U,{to:"/staff",class:"logo"},{default:d((()=>s[1]||(s[1]=[t("span",null,"Swin Care",-1)]))),_:1})]),s[2]||(s[2]=n('<div class="user-info" data-v-f81a0753><button class="notifications-btn" data-v-f81a0753> ðŸ“‹ <span class="alert-count" data-v-f81a0753>2</span></button><div class="user-name" data-v-f81a0753>Serena Tr</div><div class="user-avatar" data-v-f81a0753>ST</div></div>',1))])])]),t("main",g,[M.medicationsNeedingRefill.length>0?(v(),i("div",k,[s[3]||(s[3]=t("h2",null,"Medications Needing Refill",-1)),t("ul",I,[(v(!0),i(o,null,r(M.medicationsNeedingRefill,(e=>(v(),i("li",{key:e.name},m(e.name)+" (for "+m(M.getResidentName(e.residentId))+") ",1)))),128))])])):c("",!0),s[6]||(s[6]=t("h2",null,"Resident Medications",-1)),t("div",N,[u(t("select",{id:"residentSelect","onUpdate:modelValue":s[0]||(s[0]=e=>E.selectedResidentId=e),class:"custom-select"},[s[4]||(s[4]=t("option",{value:""},"-- Select a resident --",-1)),(v(!0),i(o,null,r(E.residents,(e=>(v(),i("option",{key:e.id,value:e.id},m(e.name),9,S)))),128))],512),[[f,E.selectedResidentId]])]),M.selectedResident?(v(),i("div",y,[t("h3",null,"Medications for "+m(M.selectedResident.name),1),t("ul",w,[(v(!0),i(o,null,r(M.selectedResident.medications,(e=>(v(),i("li",{class:R(["medication-item",{"needs-refill":e.needsRefill}]),key:e.name},[t("div",b,[t("h3",null,m(e.name),1),t("p",null,"Dosage: "+m(e.dosage)+" â€” "+m(e.frequency),1),t("p",null,"Stock: "+m(e.stockLevel),1),t("p",null,"Refill Date: "+m(e.refill),1)]),t("div",{class:R(["medication-status",{refill:e.needsRefill}])},m(e.needsRefill?"Refill":e.dueNow?"Needs refill":"Upcoming"),3)],2)))),128))])])):(v(),i("div",_,s[5]||(s[5]=[t("p",null,"Select a resident to view medications.",-1)])))])],64)}],["__scopeId","data-v-f81a0753"]]);export{j as default};
